# Деплой на Vercel

## Что было исправлено

1. **Полное исключение @vue/composition-api**: Использованы `overrides` и `resolutions` со значением `false` для полного исключения конфликтующей зависимости
2. **Агрессивная конфигурация npm**: Обновлен `.npmrc` с максимальными флагами обхода конфликтов
3. **Усиленная конфигурация Vercel**: Команда установки `npm install --legacy-peer-deps --force`
4. **Исключения**: Создан `.vercelignore` для исключения ненужных файлов

## Как деплоить

### Вариант 1: Через Vercel CLI
```bash
npm i -g vercel
vercel
```

### Вариант 2: Через GitHub
1. Запушьте код в GitHub репозиторий
2. Подключите репозиторий к Vercel
3. Vercel автоматически определит настройки из `vercel.json`

### Вариант 3: Через веб-интерфейс Vercel
1. Зайдите на vercel.com
2. Нажмите "New Project"
3. Импортируйте ваш GitHub репозиторий
4. Vercel автоматически настроит проект

## Важные моменты

- ✅ Сборка проекта работает корректно
- ✅ @vue/composition-api полностью исключена из установки
- ✅ Конфигурация для SPA (Single Page Application) настроена
- ✅ Продакшен не сломан - изменения только в dev-зависимостях
- ✅ Используется максимально агрессивный обход конфликтов

## Проверка

После деплоя убедитесь, что:
- Сайт загружается корректно
- Все роуты работают (SPA routing)
- Telegram WebApp интеграция функционирует

## Технические детали

**Финальное решение**: Полное исключение `@vue/composition-api` через:

1. `overrides` и `resolutions` со значением `false`
2. Агрессивные флаги в `.npmrc`: `legacy-peer-deps=true`, `force=true`, `audit=false`, `fund=false`, `strict-peer-deps=false`
3. Команда установки: `npm install --legacy-peer-deps --force`

Это решение полностью исключает конфликтующую зависимость, позволяя `@townsquarelabs/ui-vue` работать с встроенным Composition API Vue 3.
