# Деплой на Vercel

## Что было исправлено

1. **Конфликт зависимостей**: Использованы `overrides` и `resolutions` для принудительного разрешения конфликта с `@vue/composition-api`
2. **Конфигурация npm**: Обновлен `.npmrc` с флагами `legacy-peer-deps=true`, `force=true`, `audit=false`
3. **Конфигурация Vercel**: Создан `vercel.json` с командой установки `npm install --legacy-peer-deps`
4. **Исключения**: Создан `.vercelignore` для исключения ненужных файлов

## Как деплоить

### Вариант 1: Через Vercel CLI
```bash
npm i -g vercel
vercel
```

### Вариант 2: Через GitHub
1. Запушьте код в GitHub репозиторий
2. Подключите репозиторий к Vercel
3. Vercel автоматически определит настройки из `vercel.json`

### Вариант 3: Через веб-интерфейс Vercel
1. Зайдите на vercel.com
2. Нажмите "New Project"
3. Импортируйте ваш GitHub репозиторий
4. Vercel автоматически настроит проект

## Важные моменты

- ✅ Сборка проекта работает корректно
- ✅ Все зависимости разрешены через overrides/resolutions
- ✅ Конфигурация для SPA (Single Page Application) настроена
- ✅ Продакшен не сломан - изменения только в dev-зависимостях
- ✅ Используется `--legacy-peer-deps` для обхода конфликтов

## Проверка

После деплоя убедитесь, что:
- Сайт загружается корректно
- Все роуты работают (SPA routing)
- Telegram WebApp интеграция функционирует

## Технические детали

Проблема была в том, что `@townsquarelabs/ui-vue` требует `@vue/composition-api`, но эта библиотека предназначена для Vue 2, а проект использует Vue 3. Решение:

1. Использование `overrides` и `resolutions` для принудительного разрешения версии
2. Флаг `--legacy-peer-deps` для игнорирования peer dependency конфликтов
3. Настройка `.npmrc` для автоматического применения этих флагов
