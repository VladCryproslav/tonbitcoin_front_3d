const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/dedust-BKhu4usN.js","assets/index-B0RY7NYi.js","assets/index-CDrq-qvZ.css","assets/stonfi-CaT1ZrUE.js"])))=>i.map(i=>d[i]);
import{_ as $,s as A,b as U,a as W,r as E,x as F,y as L,e as S,f as t,t as o,i as e,p as n,g as p,j as V,C as N,D as j,E as I,l as Q,o as P}from"./index-B0RY7NYi.js";const Y="/assets/TBTC-DXKUu7_Y.png",Z={class:"screen-box"},z={class:"title"},H={class:"market-grid"},K={class:"item"},R={class:"comm"},q={class:"label-group",style:{filter:"blur(3px)",opacity:"0.5"}},G={class:"label-text"},M={class:"price-group",style:{filter:"blur(3px)",opacity:"0.5"}},X={class:"trade-btn"},J={class:"item"},tt={class:"label-group"},st={class:"label-text"},et={class:"price-group"},ot={class:"indicator-row",style:{"line-height":"22px"}},it={class:"item"},nt={class:"label-group"},at={class:"comm"},rt={class:"label-text",style:{filter:"blur(3px)",opacity:"0.5"}},lt={class:"price-group",style:{filter:"blur(3px)",opacity:"0.5"}},dt={class:"trade-btn"},ct={class:"item"},pt={class:"label-group"},_t={class:"label-text"},mt={class:"price-group"},ut={class:"indicator-row"},vt={class:"item comming"},bt={__name:"MarketView",setup(ht){const u=V(()=>Q(()=>import("./dedust-BKhu4usN.js"),__vite__mapDeps([0,1,2]))),v=V(()=>Q(()=>import("./stonfi-CaT1ZrUE.js"),__vite__mapDeps([3,1,2]))),b=A(),{tg:l}=U(),{t:i}=W(),h=E(0),k=E(0),d=r=>r.includes("t.me")?l==null?void 0:l.openTelegramLink(r):l==null?void 0:l.openLink(r);let _;const w=async()=>{let r=new AbortController,s=new AbortController;const c=[I.get("https://api.ston.fi/v1/assets/EQBhF8jWase_Cn1dNTTe_3KMWQQzDbVw_lUUkvW5k6s61ikb",{signal:r.signal}),I.get("https://api.ston.fi/v1/assets/EQBOqBiArR45GUlifxdzZ40ZahdVhjtU7GjY-lVtqruHvQEc",{signal:s.signal})];(await Promise.allSettled(c)).forEach((a,g)=>{var x,T,B,C,D,y;if(a.status==="fulfilled")switch(g){case 0:k.value=(B=(T=(x=a.value)==null?void 0:x.data)==null?void 0:T.asset)==null?void 0:B.dex_usd_price;break;case 1:h.value=(y=(D=(C=a.value)==null?void 0:C.data)==null?void 0:D.asset)==null?void 0:y.dex_usd_price;break}else console.error(`Ошибка в запросе ${g+1}:`,a.reason)}),r=null,s=null},f=()=>{_=setInterval(w,1e4)},O=()=>{clearInterval(_)};return F(()=>{w(),f()}),L(()=>{clearInterval(_),window.removeEventListener("focus",f()),window.removeEventListener("blur",O())}),(r,s)=>{var c,m;return P(),S("div",Z,[t("h1",z,o(e(i)("market.title")),1),t("div",H,[t("div",K,[t("span",R,o(e(i)("common.comming")),1),t("div",q,[t("span",G,[n(o(e(i)("market.rate",{pair:"kW/TON"}))+" ",1),p(e(u),{width:14}),s[5]||(s[5]=n(" DeDust "))])]),t("div",M,[s[7]||(s[7]=t("div",{class:"indicator-row"},[t("h3",null,"$0.0000")],-1)),t("button",X,[n(o(e(i)("market.trade_btn")),1),s[6]||(s[6]=t("img",{src:N,width:"18px",height:"18px"},null,-1))])])]),t("div",J,[t("div",tt,[t("span",st,[n(o(e(i)("market.rate",{pair:"kW/TON"}))+" ",1),p(e(v),{width:14}),s[8]||(s[8]=n("Stonfi "))])]),t("div",et,[t("div",ot,[t("h3",null,"$"+o(+(+k.value*1e3).toFixed(4)||+(+((c=e(b))==null?void 0:c.stonfi_kw)*1e3).toFixed(4)||"0.0000"),1),t("p",null,o(e(i)("market.per_k")),1)]),t("button",{class:"trade-btn",onClick:s[0]||(s[0]=a=>d("https://app.ston.fi/swap?chartVisible=true&ft=TON&tt=EQBhF8jWase_Cn1dNTTe_3KMWQQzDbVw_lUUkvW5k6s61ikb&chartInterval=1w"))},[n(o(e(i)("market.trade_btn")),1),s[9]||(s[9]=t("img",{src:N,width:"18px",height:"18px"},null,-1))])])]),t("div",it,[t("div",nt,[t("span",at,o(e(i)("common.comming")),1),t("span",rt,[n(o(e(i)("market.rate",{pair:"tBTC/TON"}))+" ",1),p(e(u),{width:14}),s[10]||(s[10]=n(" DeDust "))])]),t("div",lt,[s[12]||(s[12]=t("div",{class:"indicator-row"},[t("h3",null,"$0.0000")],-1)),t("button",dt,[n(o(e(i)("market.trade_btn"))+" ",1),s[11]||(s[11]=t("img",{src:Y,width:"18px",height:"18px"},null,-1))])])]),t("div",ct,[t("div",pt,[t("span",_t,[n(o(e(i)("market.rate",{pair:"fBTC/TON"}))+" ",1),p(e(v),{width:14}),s[13]||(s[13]=n("Stonfi "))])]),t("div",mt,[t("div",ut,[t("h3",null,"$"+o(+(+h.value).toFixed(4)||+(+((m=e(b))==null?void 0:m.stonfi_fbtc)).toFixed(4)||"0.0000"),1)]),t("button",{class:"trade-btn",onClick:s[1]||(s[1]=a=>d("https://app.ston.fi/swap?chartVisible=true&ft=TON&tt=EQBOqBiArR45GUlifxdzZ40ZahdVhjtU7GjY-lVtqruHvQEc&chartInterval=1w"))},[n(o(e(i)("market.trade_btn"))+" ",1),s[14]||(s[14]=t("img",{src:j,width:"18px",height:"18px"},null,-1))])])]),t("button",{class:"view-btn",onClick:s[2]||(s[2]=a=>d("https://www.geckoterminal.com/ton/pools/EQDRJ6wZJeaYYcR3FrqaShDgV2SyDtKBwoGI_wChiTrXL9mr"))},o(e(i)("market.look_chart_btn",{pair:"fBTC/TON"})),1),t("button",{class:"view-btn",onClick:s[3]||(s[3]=a=>d("https://www.geckoterminal.com/ton/pools/EQAHxCJBgyH8aXBizy3zLnHfZPYBQ4DAlkVXYZ3yrKNHcrX2"))},o(e(i)("market.look_chart_btn",{pair:"kW/TON"})),1),t("div",vt,[t("span",null,o(e(i)("market.more_dex")),1)]),t("button",{class:"check-news",onClick:s[4]||(s[4]=a=>d("https://t.me/ton4btc"))},o(e(i)("market.check_news_btn")),1)])])}}},wt=$(bt,[["__scopeId","data-v-aff71ac2"]]);export{wt as default};
