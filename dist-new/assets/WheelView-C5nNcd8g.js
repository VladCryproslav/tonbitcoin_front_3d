const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/info_friends-jaQjbpHJ.js","assets/index-B0RY7NYi.js","assets/index-CDrq-qvZ.css"])))=>i.map(i=>d[i]);
import{V as ve,W as nt,_ as Oe,r as z,w as ys,x as De,a as Le,v as q,e as A,f as c,U as ot,z as K,o as S,t as h,i as _,A as ae,X as Ss,Y as Is,Z as Cs,$ as As,a0 as xs,a1 as ms,a2 as zs,a3 as ks,a4 as Ts,a5 as qs,a6 as Rs,a7 as js,a8 as Fs,a9 as $s,aa as Es,ab as Ms,ac as Ps,ad as Xs,ae as Os,af as Ds,s as it,b as lt,c as pe,g as Ye,M as ct,S as ut,ag as _t,p as ie,j as dt,C as Ve,D as Xe,ah as Je,F as fe,B as Ke,m as _e,l as vt,ai as de}from"./index-B0RY7NYi.js";import{_ as Ls}from"./wheel_stars-CVif63aS.js";const Ns="/assets/asic_manager1-BaQSaoCJ.webp",Bs="/assets/asic_manager3-BTFMy_r1.webp",Ws="/assets/autostart-B6yNNtvH.webp",Gs="/assets/azot-JnKX9VmJ.webp",Us="/assets/electrics-HV7Cg51x.webp",Hs="/assets/fBTC-DjRNoqH4.webp",Ys="/assets/jarvis1-LHKU4yp1.webp",Vs="/assets/jarvis3-CW6LQuMT.webp",Js="/assets/jarvis7-BB7q57d2.webp",Ks="/assets/magnit1-5qKFTSER.webp",Qs="/assets/magnit3-DyXXcMur.webp",Zs="/assets/powerbank-BlE1YURF.webp",et="/assets/wheel_kw-QyBrccEe.png",pt="/assets/mark-FjgWhpXn.png",st="/assets/fBTC-DjRNoqH4.webp";var be,Qe;function ft(){if(Qe)return be;Qe=1;var u=Math.floor,l=Math.random;function o(e,a){return e+u(l()*(a-e+1))}return be=o,be}var he,Ze;function bt(){if(Ze)return he;Ze=1;function u(l,o){return l===o||l!==l&&o!==o}return he=u,he}var ge,es;function ht(){if(es)return ge;es=1;var u=typeof ve=="object"&&ve&&ve.Object===Object&&ve;return ge=u,ge}var we,ss;function gt(){if(ss)return we;ss=1;var u=ht(),l=typeof self=="object"&&self&&self.Object===Object&&self,o=u||l||Function("return this")();return we=o,we}var ye,ts;function tt(){if(ts)return ye;ts=1;var u=gt(),l=u.Symbol;return ye=l,ye}var Se,as;function wt(){if(as)return Se;as=1;var u=tt(),l=Object.prototype,o=l.hasOwnProperty,e=l.toString,a=u?u.toStringTag:void 0;function I(g){var r=o.call(g,a),p=g[a];try{g[a]=void 0;var v=!0}catch{}var k=e.call(g);return v&&(r?g[a]=p:delete g[a]),k}return Se=I,Se}var Ie,rs;function yt(){if(rs)return Ie;rs=1;var u=Object.prototype,l=u.toString;function o(e){return l.call(e)}return Ie=o,Ie}var Ce,ns;function at(){if(ns)return Ce;ns=1;var u=tt(),l=wt(),o=yt(),e="[object Null]",a="[object Undefined]",I=u?u.toStringTag:void 0;function g(r){return r==null?r===void 0?a:e:I&&I in Object(r)?l(r):o(r)}return Ce=g,Ce}var Ae,os;function Ne(){if(os)return Ae;os=1;function u(l){var o=typeof l;return l!=null&&(o=="object"||o=="function")}return Ae=u,Ae}var xe,is;function St(){if(is)return xe;is=1;var u=at(),l=Ne(),o="[object AsyncFunction]",e="[object Function]",a="[object GeneratorFunction]",I="[object Proxy]";function g(r){if(!l(r))return!1;var p=u(r);return p==e||p==a||p==o||p==I}return xe=g,xe}var me,ls;function It(){if(ls)return me;ls=1;var u=9007199254740991;function l(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=u}return me=l,me}var ze,cs;function Ct(){if(cs)return ze;cs=1;var u=St(),l=It();function o(e){return e!=null&&l(e.length)&&!u(e)}return ze=o,ze}var ke,us;function At(){if(us)return ke;us=1;var u=9007199254740991,l=/^(?:0|[1-9]\d*)$/;function o(e,a){var I=typeof e;return a=a??u,!!a&&(I=="number"||I!="symbol"&&l.test(e))&&e>-1&&e%1==0&&e<a}return ke=o,ke}var Te,_s;function xt(){if(_s)return Te;_s=1;var u=bt(),l=Ct(),o=At(),e=Ne();function a(I,g,r){if(!e(r))return!1;var p=typeof g;return(p=="number"?l(r)&&o(g,r.length):p=="string"&&g in r)?u(r[g],I):!1}return Te=a,Te}var qe,ds;function mt(){if(ds)return qe;ds=1;var u=/\s/;function l(o){for(var e=o.length;e--&&u.test(o.charAt(e)););return e}return qe=l,qe}var Re,vs;function zt(){if(vs)return Re;vs=1;var u=mt(),l=/^\s+/;function o(e){return e&&e.slice(0,u(e)+1).replace(l,"")}return Re=o,Re}var je,ps;function kt(){if(ps)return je;ps=1;function u(l){return l!=null&&typeof l=="object"}return je=u,je}var Fe,fs;function Tt(){if(fs)return Fe;fs=1;var u=at(),l=kt(),o="[object Symbol]";function e(a){return typeof a=="symbol"||l(a)&&u(a)==o}return Fe=e,Fe}var $e,bs;function qt(){if(bs)return $e;bs=1;var u=zt(),l=Ne(),o=Tt(),e=NaN,a=/^[-+]0x[0-9a-f]+$/i,I=/^0b[01]+$/i,g=/^0o[0-7]+$/i,r=parseInt;function p(v){if(typeof v=="number")return v;if(o(v))return e;if(l(v)){var k=typeof v.valueOf=="function"?v.valueOf():v;v=l(k)?k+"":k}if(typeof v!="string")return v===0?v:+v;v=u(v);var M=I.test(v);return M||g.test(v)?r(v.slice(2),M?2:8):a.test(v)?e:+v}return $e=p,$e}var Ee,hs;function Rt(){if(hs)return Ee;hs=1;var u=qt(),l=1/0,o=17976931348623157e292;function e(a){if(!a)return a===0?a:0;if(a=u(a),a===l||a===-1/0){var I=a<0?-1:1;return I*o}return a===a?a:0}return Ee=e,Ee}var Me,gs;function jt(){if(gs)return Me;gs=1;var u=ft(),l=xt(),o=Rt(),e=parseFloat,a=Math.min,I=Math.random;function g(r,p,v){if(v&&typeof v!="boolean"&&l(r,p,v)&&(p=v=void 0),v===void 0&&(typeof p=="boolean"?(v=p,p=void 0):typeof r=="boolean"&&(v=r,r=void 0)),r===void 0&&p===void 0?(r=0,p=1):(r=o(r),p===void 0?(p=r,r=0):p=o(p)),r>p){var k=r;r=p,p=k}if(v||r%1||p%1){var M=I();return a(r+M*(p-r+e("1e-"+((M+"").length-1))),p)}return u(r,p)}return Me=g,Me}var Ft=jt();const Pe=nt(Ft),ws={radius:700,textRadius:660,textLength:8,textDirection:"horizontal",lineHeight:56,borderWidth:1,btnWidth:200,fontSize:48,fontFamily:"Inter"},$t={class:"fw-container"},Et=["width","height"],Mt={class:"fw-btn"},Pt={key:0,class:"fw-btn__btn",style:{width:"25%",height:"25%"}},Xt={__name:"Wheel",props:{type:{type:String,default:"canvas"},canvas:{type:Object,default:()=>ws},disabled:{type:Boolean,default:!1},prizes:{type:Array,default:()=>[]},prizeId:{type:Number},angleBase:{type:Number,default:7},duration:{type:Number,default:5e3}},emits:["rotate-start","rotate-end"],setup(u,{expose:l,emit:o}){const e=u,a=o,I=z(null),g=z(!1),r=z(0),p=z(e.prizeId),v=z({});ys(()=>e.prizeId,i=>{p.value=i}),De(()=>{var i;e.type==="canvas"&&((i=e.prizes)==null?void 0:i.length)>0&&Z()});const{t:k}=Le(),M=q(()=>!e.disabled&&!g.value),E=q(()=>Object.assign(ws,e.canvas)),N=q(()=>{var d;const i=[];return(d=e.prizes)==null||d.forEach(C=>{const F=new Array(0).fill(C.id);i.push(...F)}),i}),re=q(()=>{let i=e.angleBase*360;return e.angleBase<0&&(i-=360),i}),H=q(()=>({"-webkit-transform":`rotateZ(${r.value}deg)`,transform:`rotateZ(${r.value}deg)`,"-webkit-transition-duration":`${Q.value}ms`,"transition-duration":`${Q.value}ms`,"-webkit-transition-timing-function":g.value?`cubic-bezier(0.22, 0.95, 0.24, ${Pe(.95,1.03,!0)})`:"ease-in","transition-timing-function":g.value?`cubic-bezier(0.22, 0.95, 0.24, ${Pe(.95,1.03,!0)})`:"ease-in"})),Q=q(()=>g.value?e.duration:0);function se(i,d){const C=[];for(;i!=="";){let b=i.substr(0,d);if(i.charAt(d)!==""&&i.charAt(d)!==" "){const F=b.lastIndexOf(" ");F!==-1&&(b=b.substr(0,F))}i=i.replace(b,"").trim(),C.push(b)}return C}function j(){M.value&&(a("rotate-start"),D())}l({handleClick:j,prizeId:p});function D(){g.value=!0;const i=p.value??B(),d=re.value+P(i);r.value=d}function B(){var C,b;const i=((C=N.value)==null?void 0:C.length)||0;return(b=N.value)==null?void 0:b[Pe(0,i-1)]}function P(i){var b,F,Y;const d=360/((b=e.prizes)==null?void 0:b.length),C=(F=e.prizes)==null?void 0:F.findIndex(T=>T.id===i);return v.value=(Y=e.prizes)==null?void 0:Y.find(T=>T.id==i),180-(d*C+d/2)}function Z(){const i=I.value;if(i.getContext){const{radius:d,textRadius:C,borderWidth:b,fontSize:F,fontFamily:Y}=E.value,T=Math.PI/(e.prizes.length/2),w=i.getContext("2d");w.clearRect(0,0,d*2,d*2),w.font=`600 ${F}px ${Y}`,e.prizes.forEach((R,$)=>{const x=$*T-Math.PI/2;if(R.color=="superprize"){let X,L,V,W;X=d,L=0,V=d,W=d*2.5;const ee=w.createLinearGradient(X,L,V,W);({asic_manager:["#FCD909","#FEA400"],jarvis:["#D340FF","#DD1E1E"],ASIC:["#74F98A","#0EA65A"],magnit:["#FCD909","#FEA400"]})[R.asset_name].forEach((oe,ce)=>{ee.addColorStop(ce,oe.trim())}),w.fillStyle=ee}else w.fillStyle=$%2?"#6762F0":"#4D49AA";if(w.beginPath(),w.arc(d,d,d-b,x,x+T,!1),w.stroke(),w.arc(d,d,0,x+T,x,!0),w.fill(),R.asset_image){const X=new Image;X.src=R.asset_image,X.onload=()=>{const V=d+Math.cos(x+T/2)*(C-110),W=d+Math.sin(x+T/2)*(C-110);w.save(),w.translate(V,W),w.rotate(x+T/2-Math.PI/2),w.beginPath(),w.arc(0,0,90/2,0,Math.PI*2),w.clip(),w.drawImage(X,-90/2,-90/2,90,90),w.restore()}}w.save(),w.fillStyle=(R.asset_name=="magnit"||R.asset_name=="asic_manager")&&R.color=="superprize"?"#00000090":"#fff",w.translate(d+Math.cos(x+T/2)*C,d+Math.sin(x+T/2)*C),ne(w,x,T,R),w.restore()})}}function te(){g.value=!1,r.value%=360,a("rotate-end",v.value)}function ne(i,d,C,b){const{lineHeight:F,textLength:Y,fontFamily:T}=E.value;let w=b.asset_quantity!==null?["azot","powerbank","autostart"].includes(b.asset_name)?String(k("common.pcs",{n:b.asset_quantity}).slice(0,-1)):b.asset_name=="electrics"?String(k("common.pers",{n:b.asset_quantity})):String(k("common.days",{n:b.asset_quantity})):b.n_parameter;const R=se(w,Y);if(R!==null){if(i.rotate(d+C/2-Math.PI/2),b.asset_quantity>=3&&b.color!=="superprize"){let $=0;R.forEach(ce=>{$=Math.max($,i.measureText(ce).width)});const x=R.length*F,X=8,L=$+X*2,V=x+X*2,W=-L/2,ee=-x/1.2-X,le=20,oe=i.createLinearGradient(W,ee,W+L,ee);oe.addColorStop(0,b.asset_quantity==3?"#FCD909":"#DD1E1E"),oe.addColorStop(1,b.asset_quantity==3?"#FEA400":"#D340FF"),i.fillStyle=oe,i.beginPath(),i.roundRect(W,ee,L,V,le),i.fill(),i.strokeStyle=b.asset_quantity==3?"#FCD007":"#D340FF",i.lineWidth=0,i.beginPath(),i.roundRect(W,ee,L,V,le),i.stroke(),i.fillStyle=b.asset_quantity==3?"#00000090":"#ffffff"}if(R.forEach(($,x)=>{let X=-i.measureText($).width/2,L=(x-(R.length-1)/2)*F;i.fillText($,X,L)}),i.restore(),b.color=="superprize"){i.save(),i.translate(E.value.radius+Math.cos(d+C/2)*(E.value.textRadius-20),E.value.radius+Math.sin(d+C/2)*(E.value.textRadius-20)),i.rotate(d+C/2.1);let $=k("wheel.superprize"),x=i.measureText($).width,X=$.length*F,L=-x*1.6,V=X/50;i.fillStyle=["ASIC","jarvis"].includes(b.asset_name)?"#ffffff":"#00000090",i.font=`700 45px ${T}`,i.fillText($,L,V),i.restore()}}}return(i,d)=>(S(),A("div",$t,[c("div",{class:"fw-wheel",style:ot(H.value),onTransitionend:te,"on:webkitTransitionend":te},[c("canvas",{ref_key:"wheel",ref:I,width:E.value.radius*2,height:E.value.radius*2},null,8,Et)],36),d[1]||(d[1]=c("div",{class:"fw-mark"},[c("img",{src:pt,width:"55px",height:"55px"})],-1)),c("div",Mt,[u.type==="canvas"?(S(),A("div",Pt,d[0]||(d[0]=[c("img",{src:st,width:"70px",height:"70px"},null,-1)]))):K("",!0)])]))}},Ot=Oe(Xt,[["__scopeId","data-v-68f0e159"]]),Dt={class:"wheel-prize-item-data"},Lt={class:"reward-data"},Nt={key:0,src:et,width:"160px",height:"160px"},Bt={key:1,src:Ls,width:"160px",height:"160px"},Wt=["src"],Gt={key:3,src:st,width:"160px",height:"160px"},Ut=["src"],Ht={class:"wheel-prize-item-notif"},Yt={__name:"WheelPrizeModal",props:{prize:Object},emits:["close"],setup(u,{emit:l}){const{t:o,locale:e}=Le(),a=p=>q(()=>new URL(Object.assign({"../assets/asics/ASIC S1.webp":Ds,"../assets/asics/ASIC S10 MAXX.webp":Os,"../assets/asics/ASIC S11 XP (AMA EDITION).webp":Xs,"../assets/asics/ASIC S11 XP.webp":Ps,"../assets/asics/ASIC S15 XP (AMA EDITION).webp":Ms,"../assets/asics/ASIC S15 XP.webp":Es,"../assets/asics/ASIC S17 XP.webp":$s,"../assets/asics/ASIC S19 XP+.webp":Fs,"../assets/asics/ASIC S21 XP+.webp":js,"../assets/asics/ASIC S3.webp":Rs,"../assets/asics/ASIC S30 MAXX.webp":qs,"../assets/asics/ASIC S5+.webp":Ts,"../assets/asics/ASIC S50 MAXX.webp":ks,"../assets/asics/ASIC S7+.webp":zs,"../assets/asics/ASIC S70 MAXX.webp":ms,"../assets/asics/ASIC S9+ (AMA EDITION).webp":xs,"../assets/asics/ASIC S9+.webp":As,"../assets/asics/ASIC S90 MAXX.webp":Cs,"../assets/asics/ASIC SX ULTRA PRO.webp":Is,"../assets/asics/UNDEFINED.webp":Ss})[`../assets/asics/${String(p).toUpperCase()}.webp`],import.meta.url).href),I=l,g=p=>q(()=>new URL(Object.assign({"../assets/slots/asic_manager1.webp":Ns,"../assets/slots/asic_manager3.webp":Bs,"../assets/slots/autostart.webp":Ws,"../assets/slots/azot.webp":Gs,"../assets/slots/electrics.webp":Us,"../assets/slots/fBTC.webp":Hs,"../assets/slots/jarvis1.webp":Ys,"../assets/slots/jarvis3.webp":Vs,"../assets/slots/jarvis7.webp":Js,"../assets/slots/magnit1.webp":Ks,"../assets/slots/magnit3.webp":Qs,"../assets/slots/powerbank.webp":Zs})[`../assets/slots/${p}.webp`],import.meta.url).href),r=u;return De(()=>{}),(p,v)=>{var k,M,E,N,re,H,Q,se,j,D,B,P,Z,te,ne,i,d,C,b,F,Y,T,w,R,$;return S(),A("div",{class:"wheel-prize-mask",onClick:v[1]||(v[1]=x=>I("close"))},[c("div",{class:ae(["wheel-prize-item",{asic:((k=r.prize)==null?void 0:k.asset_name)=="ASIC",yellow_bg:["asic_manager","magnit"].includes((M=r.prize)==null?void 0:M.asset_name)&&((E=r.prize)==null?void 0:E.asset_quantity)==3,yellow_border:((N=r.prize)==null?void 0:N.asset_quantity)==3,violet_bg:((re=r.prize)==null?void 0:re.asset_name)=="jarvis"&&((H=r.prize)==null?void 0:H.asset_quantity)>=5,violet_border:((Q=r.prize)==null?void 0:Q.asset_quantity)>=5}])},[c("div",Dt,[c("div",Lt,[c("span",null,h(_(o)("wheel.your_win")),1),((se=r.prize)==null?void 0:se.asset_name)=="kW"?(S(),A("img",Nt)):((j=r.prize)==null?void 0:j.asset_name)=="Stars"?(S(),A("img",Bt)):((D=r.prize)==null?void 0:D.asset_name)=="ASIC"?(S(),A("img",{key:2,src:a((B=r.prize)==null?void 0:B.n_parameter).value,width:"160px",height:"160px"},null,8,Wt)):((P=r.prize)==null?void 0:P.asset_name)=="tBTC"?(S(),A("img",Gt)):(S(),A("img",{key:4,src:g(`${(Z=r.prize)==null?void 0:Z.asset_name}${["magnit","asic_manager","jarvis"].includes((te=r.prize)==null?void 0:te.asset_name)?(ne=r.prize)==null?void 0:ne.asset_quantity:""}`).value,width:"160px",height:"160px"},null,8,Ut)),c("span",null,h(((i=r.prize)==null?void 0:i.asset_name)!=="ASIC"?_(o)(`boost.${(d=r.prize)==null?void 0:d.asset_name}`):"")+" "+h(["magnit","asic_manager","jarvis"].includes((C=r.prize)==null?void 0:C.asset_name)?_(e)=="en"?"for":"на":"")+" "+h(["azot","powerbank","autostart"].includes((b=r.prize)==null?void 0:b.asset_name)?String(_(o)("common.pcs",{n:(F=r.prize)==null?void 0:F.asset_quantity}).slice(0,-1)):((Y=r.prize)==null?void 0:Y.asset_name)=="electrics"?String(_(o)("common.pers",{n:(T=r.prize)==null?void 0:T.asset_quantity})):((w=r.prize)==null?void 0:w.asset_name)=="ASIC"?String((R=r.prize)==null?void 0:R.n_parameter):String(_(o)("common.days",{n:($=r.prize)==null?void 0:$.asset_quantity}))),1)])]),c("div",Ht,h(_(o)("wheel.modal_bottom")),1)],2),c("div",{class:"get-btn",onClick:v[0]||(v[0]=x=>I("close"))},h(_(o)("wheel.modal_btn")),1)])}}},Vt=Oe(Yt,[["__scopeId","data-v-16d64532"]]),Jt={class:"wheel-screen"},Kt={class:"wheel-section"},Qt={class:"wheel-info"},Zt={class:"wheel-title"},ea={class:"wheel-statistic"},sa={class:"wheel-statistic-title"},ta={class:"wheel-statistic-balances"},aa={class:"wheel-statistic-balances-kw"},ra={class:"wheel-statistic-balances-tbtc"},na={class:"wheel-statistic-balances-stars"},oa={class:"wheel-button-group"},ia={class:"wheel-history"},la={class:"wheel-history-title"},ca={class:"history-filters"},ua={class:"wheel-history-list"},_a={key:0,class:"wheel-history-list-nodata"},da={class:"wheel-history-list-item-data"},va={class:"reward-data"},pa={key:0,src:et,width:"65px",height:"65px"},fa={key:1,src:Xe,width:"65px",height:"65px"},ba={key:2,src:Ls,width:"65px",height:"65px"},ha=["src"],ga=["src"],wa={class:"reward-info"},ya={key:0},Sa={key:1},Ia={key:2},Ca={key:3},Aa=["onClick"],xa={class:"wheel-history-list-item-notif"},ma={key:0,class:"available-pagination"},za={class:"pages"},ka={class:"page-group"},Ta=["onClick"],qa={class:"navigate-control"},Ra={__name:"WheelView",setup(u){const l=dt(()=>vt(()=>import("./info_friends-jaQjbpHJ.js"),__vite__mapDeps([0,1,2]))),o=z(null),e=it(),{t:a,locale:I}=Le(),{tg:g}=lt(),r=z(null),p=z(!0),v=z(""),k=z(""),M=z(""),E=z(!1),N=z(!1),re=z(0),H=z(null),Q=q(()=>(H==null?void 0:H.value)||0),se=q(()=>(e==null?void 0:e.wheel_prizes)||[]),j=z(null),D=z("btl"),B=z([]),P=z(1),Z=z(1),te=z(null),ne=s=>{te.value&&te.value.scrollTo({top:0,behavior:"smooth"}),!(s!=="active"&&s!=="unactive")&&(j.value===null||j.value!==s?(j.value=s,D.value="btl"):j.value===s&&D.value==="btl"?D.value="ltb":j.value===s&&D.value==="ltb"&&(j.value=null,D.value="btl"))},i=async()=>{var s,n,f,m,y,G,O;try{const t=await _e.get("tasks/user_rewards/");if(t.status===200)return((f=(n=(s=t.data)==null?void 0:s.results)==null?void 0:n[0])==null?void 0:f.slot)??((y=(m=B.value)==null?void 0:m[0])==null?void 0:y.slot)}catch(U){return console.log(U),(O=(G=B.value)==null?void 0:G[0])==null?void 0:O.slot}},d=async()=>{var s,n;try{let f="tasks/user_rewards/?page_size=10";if(P.value){const y=P.value;f+=`&page=${y}`}if(j.value){const y=j.value==="active"?"unclaimed":"claimed";f+=`&status=${y}`}if(D.value){const y=D.value==="btl"?"-created_at":"created_at";f+=`&ordering=${y}`}const m=await _e.get(f);m.status===200&&(B.value=(s=m.data)==null?void 0:s.results,Z.value=Math.ceil(((n=m.data)==null?void 0:n.count)/10)||1,e.initUser())}catch(f){console.log(f)}},C=q(()=>{const s=Z.value,n=B.value;if(s<=8)return[...Array(s)].map((O,U)=>U+1);const f=[],m=1;f.push(1),n-m>2&&f.push("...");const y=Math.max(2,n-m),G=Math.min(s-1,n+m);for(let O=y;O<=G;O++)f.push(O);return n+m<s-1&&f.push("..."),s>1&&f.push(s),f}),b=()=>{if(P.value<Z.value)P.value++;else return},F=()=>{if(P.value>1)P.value--;else return};ys([j,D,P],()=>{d()});const Y=s=>q(()=>new URL(Object.assign({"../assets/slots/asic_manager1.webp":Ns,"../assets/slots/asic_manager3.webp":Bs,"../assets/slots/autostart.webp":Ws,"../assets/slots/azot.webp":Gs,"../assets/slots/electrics.webp":Us,"../assets/slots/fBTC.webp":Hs,"../assets/slots/jarvis1.webp":Ys,"../assets/slots/jarvis3.webp":Vs,"../assets/slots/jarvis7.webp":Js,"../assets/slots/magnit1.webp":Ks,"../assets/slots/magnit3.webp":Qs,"../assets/slots/powerbank.webp":Zs})[`../assets/slots/${s}.webp`],import.meta.url).href),T=q(()=>{var n;return new Date((n=e==null?void 0:e.user)==null?void 0:n.jarvis_expires).getFullYear()===2100}),w=q(()=>{var n;return new Date((n=e==null?void 0:e.user)==null?void 0:n.cryo_expires).getFullYear()===2100}),R=q(()=>{var n;return new Date((n=e==null?void 0:e.user)==null?void 0:n.magnit_expires).getFullYear()===2100}),$=q(()=>{var n;return new Date((n=e==null?void 0:e.user)==null?void 0:n.manager_expires).getFullYear()===2100}),x=async s=>{var n,f,m;if(!N.value){N.value=!0;try{if(s!=="Stars"){const y=await _e.post("tasks/spin_wheel/",{currency:s});y.status==200&&(H.value=(n=y.data)==null?void 0:n.slot_id,o.value.prizeId=Q.value,(f=o.value)==null||f.handleClick())}else{const y=await _e.post("tasks/wheel_stars/");y.status==200?g.openInvoice((m=y.data)==null?void 0:m.link,async G=>{var O;if(G=="paid"){const U=await i();H.value=U,o.value.prizeId=Q.value,(O=o.value)==null||O.handleClick()}else N.value=!1,d()}):(N.value=!1,d())}}catch(y){console.log(y),v.value="error",k.value=a("notification.st_error"),M.value=a("notification.spin_fail"),E.value=!0,N.value=!1,d()}}};function X(s){console.log("onCanvasRotateStart")}function L(s){console.log("onRotateEnd",s),r.value=s,p.value=!0,H.value=null,N.value=!1,d()}async function V(){re.value=0}const W=(s,n)=>q(()=>{var y;if(!(s!=null&&s.asset_type))return"";const f=(s.status!=="unclaimed"||(s==null?void 0:s.asset_type)=="electrics"&&((y=e.user)==null?void 0:y.engineer_level)+(s==null?void 0:s.asset_quantity)>49)&&n,m=(s==null?void 0:s.asset_type)=="ASIC"?"asic":(s==null?void 0:s.asset_quantity)>=5?(s==null?void 0:s.asset_type)=="jarvis"?"violet_bg":"violet_border":(s==null?void 0:s.asset_quantity)>=3?["asic_manager","magnit"].includes(s==null?void 0:s.asset_type)?"yellow_bg":"yellow_border":"";return f?"disabled":m||""}),ee=async s=>{var n;if(!(!s||s.status=="claimed"||s.status=="processing")&&!((s==null?void 0:s.asset_type)=="electrics"&&((n=e.user)==null?void 0:n.engineer_level)+(s==null?void 0:s.asset_quantity)>49))try{(await _e.post("tasks/claim_user_reward/",{reward_id:s.id})).status==200&&(v.value="success",k.value=a("notification.st_success"),M.value=(s==null?void 0:s.asset_type)=="electrics"?a("notification.eng_up"):["azot","powerbank","autostart"].includes(s==null?void 0:s.asset_type)?a("notification.booster_dep"):(s==null?void 0:s.asset_type)=="ASIC"?a("notification.slot_send",{slot:(s==null?void 0:s.processing_type)=="manual"?s.n_parameter:a(`boost.${s==null?void 0:s.asset_type}`)}):a("notification.temp_activate"),E.value=!0,d())}catch(f){console.log(f),v.value="error",k.value=a("notification.st_error"),M.value=f.response.data.status=="Too many days of active boosters"&&((s==null?void 0:s.asset_type)=="jarvis"&&T.value||(s==null?void 0:s.asset_type)=="magnit"&&R.value||(s==null?void 0:s.asset_type)=="asic_manager"&&$.value||(s==null?void 0:s.asset_type)=="cryo"&&w.value)?a("notification.forever_boost_duration"):f.response.data.status=="Too many days of active boosters"?a("notification.max_boost_duration"):f.response.data.status=="Max engineer level reached"?a("notification.max_eng_level"):f.response.data.status||f.response.data.error||f.data.error,E.value=!0}},le=q(()=>{var s;return new Date((s=e.user)==null?void 0:s.premium_sub_expires)>=new Date}),oe=q(()=>{var s,n,f,m,y,G,O,U,t,ue;return(s=e==null?void 0:e.user)!=null&&s.has_silver_sbt&&((n=e==null?void 0:e.user)!=null&&n.has_silver_sbt_nft)||(f=e==null?void 0:e.user)!=null&&f.has_gold_sbt&&((m=e==null?void 0:e.user)!=null&&m.has_gold_sbt_nft)||le.value?Math.round(((y=e==null?void 0:e.withdraw_config)==null?void 0:y.wheel_stars_cost)*(100-((G=e==null?void 0:e.user)!=null&&G.has_silver_sbt&&((O=e==null?void 0:e.user)!=null&&O.has_silver_sbt_nft)?5:(U=e==null?void 0:e.user)!=null&&U.has_gold_sbt&&((t=e==null?void 0:e.user)!=null&&t.has_gold_sbt_nft)||le.value?10:0))/100)||0:((ue=e==null?void 0:e.withdraw_config)==null?void 0:ue.wheel_stars_cost)||0}),ce=s=>{+s&&(P.value=+s)};De(()=>{e.initWheel(),e.initUser(),V(),d()});const rt=s=>q(()=>new URL(Object.assign({"../assets/asics/ASIC S1.webp":Ds,"../assets/asics/ASIC S10 MAXX.webp":Os,"../assets/asics/ASIC S11 XP (AMA EDITION).webp":Xs,"../assets/asics/ASIC S11 XP.webp":Ps,"../assets/asics/ASIC S15 XP (AMA EDITION).webp":Ms,"../assets/asics/ASIC S15 XP.webp":Es,"../assets/asics/ASIC S17 XP.webp":$s,"../assets/asics/ASIC S19 XP+.webp":Fs,"../assets/asics/ASIC S21 XP+.webp":js,"../assets/asics/ASIC S3.webp":Rs,"../assets/asics/ASIC S30 MAXX.webp":qs,"../assets/asics/ASIC S5+.webp":Ts,"../assets/asics/ASIC S50 MAXX.webp":ks,"../assets/asics/ASIC S7+.webp":zs,"../assets/asics/ASIC S70 MAXX.webp":ms,"../assets/asics/ASIC S9+ (AMA EDITION).webp":xs,"../assets/asics/ASIC S9+.webp":As,"../assets/asics/ASIC S90 MAXX.webp":Cs,"../assets/asics/ASIC SX ULTRA PRO.webp":Is,"../assets/asics/UNDEFINED.webp":Ss})[`../assets/asics/${String(s).toUpperCase()}.webp`],import.meta.url).href);return(s,n)=>{var f,m,y,G,O,U;return S(),A(fe,null,[E.value?(S(),pe(ct,{key:0,status:v.value,title:k.value,body:M.value,onClose:n[0]||(n[0]=t=>E.value=!1)},null,8,["status","title","body"])):K("",!0),Ye(_t,{name:"fade"},{default:ut(()=>[p.value&&r.value?(S(),pe(Vt,{key:0,prize:r.value,onClose:n[1]||(n[1]=t=>p.value=!1)},null,8,["prize"])):K("",!0)]),_:1}),c("div",Jt,[c("div",Kt,[se.value&&se.value.length>0?(S(),pe(Ot,{key:0,ref_key:"wheelRef",ref:o,style:{width:"150%","max-width":"100%"},prizes:se.value,prizeId:Q.value,onRotateStart:X,onRotateEnd:L},null,8,["prizes","prizeId"])):K("",!0)]),c("div",Qt,[c("div",Zt,[ie(h(_(a)("wheel.title"))+" ",1),Ye(_(l),{width:"24px",height:"24px"})]),c("div",ea,[c("div",sa,h(_(a)("wheel.balance")),1),c("div",ta,[c("div",aa,[n[7]||(n[7]=c("img",{src:Ve,width:"22px",height:"22px"},null,-1)),ie(h(+(+_(e).user.kw_wallet).toFixed(0)||0),1)]),c("div",ra,[n[8]||(n[8]=c("img",{src:Xe,width:"22px",height:"22px"},null,-1)),ie(h(+(+_(e).user.tbtc_wallet).toFixed(0)||0),1)]),c("div",na,[n[9]||(n[9]=c("img",{src:Je,width:"22px",height:"22px"},null,-1)),ie(h(re.value||0),1)])])]),c("div",oa,[c("button",{class:"btn-spin-kw",onClick:n[2]||(n[2]=t=>x("kW"))},[ie(h(_(a)("wheel.spin_for",{n:((m=(f=_(e))==null?void 0:f.withdraw_config)==null?void 0:m.wheel_kw_cost)||0}))+" ",1),n[10]||(n[10]=c("img",{src:Ve,width:"22px",height:"22px"},null,-1))]),c("button",{class:"btn-spin-tbtc",onClick:n[3]||(n[3]=t=>x("tBTC"))},[ie(h(_(a)("wheel.spin_for",{n:((G=(y=_(e))==null?void 0:y.withdraw_config)==null?void 0:G.wheel_tbtc_cost)||0}))+" ",1),n[11]||(n[11]=c("img",{src:Xe,width:"22px",height:"22px"},null,-1))]),c("button",{class:"btn-spin-stars col-span-2",onClick:n[4]||(n[4]=t=>x("Stars"))},[ie(h(_(a)("wheel.super_for",{n:oe.value}))+" ",1),n[12]||(n[12]=c("img",{src:Je,width:"22px",height:"22px"},null,-1))])]),c("div",ia,[c("div",la,h(_(a)("wheel.rewards_history")),1),c("div",ca,[c("div",{class:ae(["sort-pill",{selected:j.value=="active"}]),onClick:n[5]||(n[5]=t=>ne("active"))},h(j.value=="active"&&D.value=="ltb"?"▲":"▼")+" "+h(_(a)("wheel.active")),3),c("div",{class:ae(["sort-pill",{selected:j.value=="unactive"}]),onClick:n[6]||(n[6]=t=>ne("unactive"))},h(j.value=="unactive"&&D.value=="ltb"?"▲":"▼")+" "+h(_(a)("wheel.unactive")),3)]),c("div",ua,[(O=B.value)!=null&&O.length?K("",!0):(S(),A("div",_a,[c("span",null,h(_(a)("wheel.no_prizes")),1)])),(S(!0),A(fe,null,Ke(B.value,(t,ue)=>{var Be,We,Ge,Ue,He;return S(),A("div",{class:ae(["wheel-history-list-item",W(t,!1).value]),key:ue},[c("div",da,[c("div",va,[(t==null?void 0:t.asset_type)=="kW"?(S(),A("img",pa)):(t==null?void 0:t.asset_type)=="tBTC"?(S(),A("img",fa)):(t==null?void 0:t.asset_type)=="Stars"?(S(),A("img",ba)):(t==null?void 0:t.asset_type)=="ASIC"?(S(),A("img",{key:3,src:rt(t==null?void 0:t.n_parameter).value,width:"65px",height:"65px"},null,8,ha)):(S(),A("img",{key:4,src:Y(`${t.asset_type}${["magnit","asic_manager","jarvis"].includes(t.asset_type)?t.asset_quantity:""}`).value,width:"65px",height:"65px"},null,8,ga)),c("div",wa,[c("h3",null,h((t==null?void 0:t.asset_type)=="ASIC"?t==null?void 0:t.n_parameter:_(a)(`boost.${t==null?void 0:t.asset_type}`)),1),(t==null?void 0:t.asset_type)!=="ASIC"?(S(),A("span",ya,h(["azot","powerbank","autostart"].includes(t.asset_type)?String(_(a)("common.pcs",{n:t.asset_quantity}).slice(0,-1)):(t==null?void 0:t.asset_type)=="electrics"?String(_(a)("common.pers",{n:t.asset_quantity})):(_(I)=="en"?"for ":"на ")+_(a)("common.days",{n:t.asset_quantity})),1)):K("",!0),(t==null?void 0:t.asset_type)=="ASIC"?(S(),A("span",Sa,h(_(a)("asic_shop.speed"))+" "+h(((Be=_(de).find(J=>J.name.trim().toLowerCase()==(t==null?void 0:t.n_parameter.trim().toLowerCase())))==null?void 0:Be.hash_rate)>=1e3?((We=_(de).find(J=>J.name.trim().toLowerCase()==(t==null?void 0:t.n_parameter.trim().toLowerCase())))==null?void 0:We.hash_rate)/1e3+` ${_(a)("common.per_s",{value:"Gh"})}`:((Ge=_(de).find(J=>J.name.trim().toLowerCase()==(t==null?void 0:t.n_parameter.trim().toLowerCase())))==null?void 0:Ge.hash_rate)+` ${_(a)("common.per_s",{value:"Mh"})}`),1)):K("",!0),(t==null?void 0:t.asset_type)=="ASIC"?(S(),A("span",Ia,h(_(a)("asic_shop.mining"))+" "+h((Ue=_(de).find(J=>J.name.trim().toLowerCase()==(t==null?void 0:t.n_parameter.trim().toLowerCase())))==null?void 0:Ue.speed)+" "+h(_(a)("common.per_d",{value:"fBTC"})),1)):K("",!0),(t==null?void 0:t.asset_type)=="ASIC"?(S(),A("span",Ca,h(_(a)("asic_shop.consumption"))+" "+h((He=_(de).find(J=>J.name.trim().toLowerCase()==(t==null?void 0:t.n_parameter.trim().toLowerCase())))==null?void 0:He.consumption)+" "+h(_(a)("common.per_h",{value:"kW"})),1)):K("",!0)])]),c("button",{class:ae(["reward-btn",W(t,!0).value]),onClick:J=>ee(t)},h((t==null?void 0:t.status)=="unclaimed"?["azot","powerbank","autostart"].includes(t.asset_type)?_(a)("wheel.deposit"):t.asset_type=="ASIC"?_(a)("wheel.get"):_(a)("wheel.use"):(t==null?void 0:t.status)=="processing"?_(a)("wheel.inprocess"):_(a)("wheel.done")),11,Aa)]),c("div",xa,h(["azot","powerbank","autostart"].includes(t.asset_type)?_(a)("wheel.bottom_text_1"):t.asset_type=="ASIC"?_(a)("wheel.bottom_text_2"):_(a)("wheel.bottom_text_3")),1)],2)}),128))]),(U=B.value)!=null&&U.length?(S(),A("div",ma,[c("div",za,[c("ul",ka,[(S(!0),A(fe,null,Ke(C.value,t=>(S(),A("li",{class:ae(["page-cell",{activepage:P.value==t,dots:t=="..."}]),key:t,onClick:ue=>ce(t)},h(t),11,Ta))),128))])]),c("div",qa,[c("button",{class:ae(["prev",{unactive:P.value==1}]),onClick:F},h(_(a)("common.prev_page")),3),c("button",{class:ae(["next",{unactive:P.value==Z.value}]),onClick:b},h(_(a)("common.next_page")),3)])])):K("",!0)])])])],64)}}},$a=Oe(Ra,[["__scopeId","data-v-7b282b94"]]);export{$a as default};
