# Игра Subway Surfers - Реализация

## Текущая реализация

Создана полноценная 3D игра типа Subway Surfers с следующими возможностями:

### ✅ Реализовано:

1. **Бесконечный раннер**
   - Бесконечная дорожка с прокруткой
   - Разметка полос (желтые линии)
   - Боковые барьеры
   - Градиентный фон

2. **Модель игрока (инженер)**
   - 3D модель из примитивов (тело, голова, руки, ноги)
   - Анимация бега (покачивание)
   - Плавные переходы между полосами

3. **Управление**
   - Swipe Left/Right - смена полосы (3 полосы: -2, 0, 2)
   - Swipe Up - прыжок (600ms, высота 2.5)
   - Swipe Down - скольжение (500ms, уменьшение высоты)

4. **Препятствия**
   - Два типа: низкие (1.5) и высокие (2.5)
   - Случайная генерация
   - Иногда несколько препятствий рядом
   - Коллизии с проверкой высоты

5. **Собираемые предметы (энергия)**
   - Зеленые светящиеся кубы
   - Пульсация и вращение
   - Вертикальное движение
   - Эффект частиц при сборе

6. **Визуальные эффекты**
   - Частицы при сборе энергии (зеленые)
   - Частицы при столкновении (красные)
   - Тряска камеры при ударе
   - Плавное движение камеры за игроком

7. **Игровая механика**
   - Увеличение скорости со временем
   - Система мощности (power)
   - Счетчик дистанции
   - Счетчик собранной энергии
   - Завершение при power = 0

8. **UI**
   - Счетчик энергии (зеленый, пульсирующий)
   - Счетчик дистанции (фиолетовый)
   - Полоса мощности с цветовой индикацией
   - Кнопки управления (старт/пауза/продолжить)

9. **Интеграция с бекендом**
   - Отправка данных забега на сервер
   - Получение начисленной энергии
   - Обновление состояния пользователя

## Структура файлов

```
src/
├── components/game/
│   ├── GameScene.vue          # Three.js сцена
│   ├── GameUI.vue              # UI элементы
│   ├── GameControls.vue       # Обработка свайпов
│   └── RunCompleteModal.vue    # Модалка результатов
├── composables/
│   ├── useGameRun.js           # Логика забега
│   ├── useGamePhysics.js       # Физика игрока
│   ├── useGameWorld.js         # Мир игры (дорожка, препятствия)
│   └── useGameEffects.js       # Визуальные эффекты
└── views/
    └── GameRunView.vue         # Главный компонент
```

## Как играть

1. Нажмите на станцию в EnergizerView - откроется игра
2. Нажмите "Старт" для начала забега
3. Управление:
   - Свайп влево/вправо - смена полосы
   - Свайп вверх - прыжок
   - Свайп вниз - скольжение
4. Собирайте зеленые кубы (энергия)
5. Избегайте красных препятствий (снижают power)
6. Игра заканчивается при power = 0
7. После завершения показывается модалка с результатами

## Параметры игры

- **Начальная скорость**: 0.15
- **Максимальная скорость**: 0.4
- **Увеличение скорости**: каждые 100 метров
- **Штраф за препятствие**: -10 power
- **Энергия за предмет**: 0.5 kW
- **Полосы**: 3 (-2, 0, 2)

## Оптимизации

- Object pooling для препятствий и предметов
- Удаление объектов за камерой
- Ограничение pixel ratio для мобильных
- Простые геометрии для производительности
- Эффективное управление памятью

## Следующие улучшения (опционально)

1. Загрузка 3D моделей (GLTF) для игрока
2. Больше типов препятствий
3. Бонусные предметы (временные бустеры)
4. Система достижений
5. Лидерборды
6. Звуковые эффекты
7. Улучшенные текстуры дорожки
8. Погодные эффекты
